<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="../../client.js"></script>
    <script>
      const { info, error } = console;
      const { sendSync, sendAsync } = ws;

      ws.on("open", info);
      ws.on("close", error);
      ws.on("error", error);
      ws.on("example-sync-response", info);

      const async = async () => {
        try {
          const response = await sendAsync("subdir/example-async", {
            userName: "kortes",
          });
          console.info(response);
        } catch ({ error }) {
          console.error(error);
        }
      };

      const sync = sendSync.bind(undefined, "example-sync", {
        userName: "kortes",
      });
    </script>
  </head>
  <body>
    <h1>async-await-websockets client</h1>
    <button onclick="async()">Send asyncronously</button>
    <button onclick="sync()">Send syncronously</button>
  </body>
</html>
